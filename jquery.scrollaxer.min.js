;(function($){'use strict';$.fn.scrollax=function(options){var $slides,percentage,targetIdx,$curr,$next,sizeContainer,offsetLinear;var $container=$(this);var settings={selector:'.slide',speed:2,fadeDelay:0.3,step:function(){return;}};if(options){$.extend(settings,options);}
function getSlideHeight(){return $(window).height()*settings.speed;}
offsetLinear=function(fraction,offset){offset=offset||0.3;fraction=fraction||0;fraction=(fraction*(1+offset))-offset;if(fraction<0)fraction=0;if(fraction>1)fraction=1;return fraction;};$slides=$(settings.selector);var $wrapper=$container.wrap('<div id="scrollax-wrapper"></div>').closest('#scrollax-wrapper');sizeContainer=function(){$wrapper.css({minHeight:Math.round(getSlideHeight()*$slides.length)});};$(window).resize(sizeContainer);sizeContainer();$slides.each(function(count){$(this).css('z-index',$slides.length-count);});$container.trigger('scrollax-init');$(window).scroll(function(){var sTop=$(window).scrollTop();percentage=((sTop%getSlideHeight())/getSlideHeight()).toFixed(2);targetIdx=Math.floor(sTop/getSlideHeight());$curr=$slides.eq(targetIdx);$next=$slides.eq(targetIdx+1);if(targetIdx==($slides.length-1)){percentage=(percentage/0.5).toFixed(2);}
$curr.add($next).show();$slides.not($curr.add($next)).hide();if(targetIdx!=($slides.length-1)){$curr.css({'opacity':(1-offsetLinear(percentage,settings.fadeDelay))});}
if(typeof settings.step==='function'){settings.step($slides,parseFloat(percentage),$curr,$next);}});return $slides;};})(window.jQuery);